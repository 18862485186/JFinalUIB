<?xml version="1.0" encoding="UTF-8"?>

<sql-statement namespace="weixin.keyword">
	
	<!-- 查询 -->
	<sql id="paging">
		<![CDATA[ 
        	<% if(db_type == "mysql" || db_type == "postgresql"){ %>
        	
        		select * from wx_keyword order by ids asc limit ? offset ? 
        	
        	<% } else if(db_type == "oracle"){ %>
        	
        		select * from ( select a.*, rownum rn from (select * from wx_keyword) a where rownum <= ? ) where rn >= ?
        		
        	<% } else if(db_type == "sqlserver"){ %>
        		
        		select top {0, number, #.#} * from wx_keyword where ids not in ( select top {1, number, #.#} ids from wx_keyword )
        		
        	<% } %>
    	]]>
	</sql>
	
	<!-- 动态SQL处理 -->
	<sql id="splitPageFrom">
		<![CDATA[ 
        	from 
        		wx_keyword 
        	where 
        		1=1
			
			<% if(!isEmpty(question)){ %>
					and question like #'%$question$%'#
			<% } %>
			
			<% if(!isEmpty(questionkey)){ %>
					and questionkey like #'%$questionkey$%'#
			<% } %>
			
			<% if(!isEmpty(answer)){ %>
					and answer like #'%$answer$%'#
			<% } %>
    	]]>
	</sql>
	
</sql-statement>